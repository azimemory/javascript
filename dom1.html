<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	.note{
		border:thin solid;
		min-height:100px;
	}
</style>
</head>
<body>
<script type="text/javascript">
function $(selector,text){
	if(text){
		document.querySelector(selector).innerHTML += `${text}<br>`;
	}
	
	return document.querySelector(selector);
}
</script>
<h1>DOM(Document Object Model)</h1>
<h2>텍스트노드가 있는 node를 생성</h2>
<div id='node-note' class='note'>

</div>
<script type="text/javascript">
	$('#node-note').addEventListener('click',(e)=>{
		//element
		//createElement('tagName') : 해당 태그의 요소를 생성
		let title = document.createElement('h3');
		let subTitle = document.createElement('h4');
		
		//text-node 생성
		let titText = document.createTextNode('안녕~? 나는 뽀로로야');
		let subText = document.createTextNode('반가워~ 나는 둘리야!');
		
		//노드 연결, 자식요소로 뒤에 추가
		title.appendChild(titText);
		subTitle.appendChild(subText);
		
		title.addEventListener('click',(e)=>{
			console.log('자식요소 클릭이벤트 발생!');
			//이벤트 버블링(자식 -> 부모), 이벤트 캡처링(부모 -> 자식) 과 같은 이벤트 전파를 막는다.
			e.stopPropagation();
		})
		
		subTitle.addEventListener('click',(e)=>{
			console.log('자식요소 클릭이벤트 발생!');
			e.stopPropagation();
		})
		
		//이벤트가 발생한 타겟을 출력
		console.dir(e.target);
		console.log('부모요소 클릭이벤트 발생!');
		
		$('#node-note').appendChild(title);
		$('#node-note').appendChild(subTitle);
	})

</script>
<h2>텍스트노드가 없는 노드 생성</h2>
<div id='node-note2' class='note'></div>
<script type="text/javascript">
	$('#node-note2').addEventListener('click', (e)=>{
		//img태그 생성
		let imgElement = document.createElement('img');
		//속성지정
		imgElement.src = 'https://i.ytimg.com/vi/DCSh6ixqrFU/maxresdefault.jpg';
		imgElement.style.width = '300px';
		imgElement.style.height = '150px';
		//존재하지 않는 속성을 지정할 때는 setAttribute() 사용
		imgElement.setAttribute('myProperty','123');
		$('#node-note2').appendChild(imgElement);		
	})
</script>

<h2>노드 삭제</h2>
<div id='del-node' class='note'></div>
<button id='btn_add'>노드 추가</button>
<button id='btn_del'>노드 삭제</button>
<script type="text/javascript">

$('#btn_add').addEventListener('click', (e)=>{
	//img태그 생성
	let imgElement = document.createElement('img');
	//속성지정
	imgElement.src = 'https://i.ytimg.com/vi/DCSh6ixqrFU/maxresdefault.jpg';
	imgElement.style.width = '300px';
	imgElement.style.height = '150px';
	//존재하지 않는 속성을 지정할 때는 setAttribute() 사용
	imgElement.setAttribute('myProperty','123');
	$('#del-node').appendChild(imgElement);		
})

$('#btn_del').addEventListener('click',(e)=>{
	//del-node 아래에 있는 img요소들을 마지막에 추가한것 부터 하나씩 삭제
	//querySelectorAll : css 선택자로 선택된 요소들을 NodeList(배열형태)로 반환
	
	/* 
	let imgList = document.querySelectorAll('#del-node>img');
	imgList.item(imgList.length-1).remove(); 
	
	$('#del-node').lastChild.remove(); 
	
	css선택자로 지정하기
	:last-child  ==> 마지막 요소
	:first-child ==> 첫번째 요소
	:nth-child(n) ==> n번째 요소
	:nth-child(숫자n) ==> 숫자의 배수 번째에 있는 요소
	*/
	$('#del-node>img:last-child').remove();
	
})










</script>














</body>
</html>